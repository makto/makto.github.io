---
layout: note
category: note
---

## 前言

- 不是讲系统如何构建和实现，而是讲如何利用系统知识写出更好的程序
- 学习系统的唯一方法就是 do 系统
- [CS:APP]

[CS:APP]: http://csapp.cs.cmu.edu

## 第一章 计算机系统漫游

### 1.1 信息就是位+上下文
- 8 个位被组织成一组，称为字节
- ASCII 标准用唯一的单字节大小的整数值表示每个字符
- 只有 ASCII 字符构成的文件成为文本文件，所有其他文件都成为二进制文件
- 系统中的所有信息都是由一串位表示的
- 区分不同数据对象的唯一方法是我们读到这些数据对象时的上下文

### 1.2 程序被其他程序翻译成不同的格式
- 编译系统包括四部分：预处理器、编译器、汇编器、链接器
- 汇编器得到的`.o`文件是二进制的，它的 **字节编码** 是机器语言指令而不是字符，注意这里也用到了 *字节编码* 这个词

### 1.3 了解编译系统如何工作是大有益处的
### 1.4 处理器读并解释存储在存储器中的指令
- 系统的硬件组成
    - 总线
        - IO总线，携带信息字节，负责在各个部件间传递
        - 通常被设计成传送定长的字节块，也就是字（word）
        - 字中的字节数，称为字长，字长为4的即称为32位机（4*8=32）
    - IO设备
        - 鼠标、键盘、显示器、磁盘等
        - 每个 IO设备都通过控制器或适配器与IO总线相连，并传递信息
        - 控制器是置于IO设备本身或主板上的芯片组（比如USB）
        - 适配器则是一块主板插槽上的卡（如图形适配器）
    - 主存
        - 临时存储设备，处理器执行程序时用来存放程序和程序处理的数据
        - 物理上说，是一组动态随机存取存储器（DRAM）组成
        - 逻辑上说，是一个线性的字节数组，每个字节有唯一的地址，从零开始
    - 处理器
        - 解释（或执行）存储在主存中指令的引擎
        - 核心是一个字长的存储设备（寄存器），称为程序计数器（PC），任何时刻都指向主存中的某条机器指令
        - 寄存器文件，由一些一字长的寄存器组成
        - 算数/逻辑单元（ALU），计算新的数据和地址值
        - 指令集结构描述每条机器代码指令的效果，微体系结构描述处理器实际上如何实现
        - CPU从PC指向的地址读取指令，解释指令、执行指令，然后更新PC指向下一条指令

### 1.5 高速缓存至关重要
系统花费大量时间把信息从一个地方挪到另一个地方，系统设计者的一个主要目标就是使这些复制操作尽可能快地完成

对处理器来说：
- 从磁盘驱动器上读取一个字的时间开销要比从主存中读取的开销大1000万倍
- 从寄存器文件中读数据的速度比从主存中读取几乎要快100倍
针对处理器和主存之间的差异：
- 采用了更小更快的存储设备，即高速缓存存储器
- L1高速缓存位于处理器芯片上
- L2高速缓存通过一条特殊的总线链接到处理器
- L1、L2高速缓存采用静态随机访问存储器（SRAM）的硬件技术实现

### 1.6 存储设备形成层次结构
存储器层次结构
- 从上至下，访问速度越来越慢，容量越来越大，每字节的造价越来越便宜
- 寄存器文件位于最顶部，即L0
- 主要思想是，一层上的存储器作为低一层存储器的高速缓存
- 可以利用对整个存储器层次结构的理解来提高程序性能

### 1.7 操作系统管理硬件

### 联想
- shell 本质上也只是一个解释器？执行 shell 这种脚本语言？所有的 UNIX 命令只不过是放在特定位置的一些程序，shell 找到它并执行
- 其他用非 ASCII 字符编码方式（比如UTF-8）编码的文件难道不是文本文件？

## 第二章 信息的表示和处理

