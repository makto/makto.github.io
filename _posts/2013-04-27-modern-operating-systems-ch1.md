---
layout: note
---

## 第1章 引论
- 现代计算机系统是一个复杂的系统，操作系统的任务是为用户程序提供一个更好、更简单、更清晰的计算机模型，并管理所有设备
- shell、GUI其实并不是操作系统的一部分
- 多数计算机有两种运行模式：内核态和用户态
- 操作系统运行在内核态，可以执行机器能够运行的任何指令；用户态只使用机器指令中的一个子集
- 用户接口程序，即shell或GUI，处于用户态程序中的最低层次
- 嵌入式系统没有内核态

### 什么是操作系统
- 作为扩展机器的操作系统
    - 在机器语言一级上，多数计算机的体系结构（指令集、存储组织、I/O和总线结构）是很原始的，编程是很困难的，尤其是对输入/输出操作而言
    - 抽象是管理复杂性的一个关键
    - 好的抽象可以将一个几乎不可管理的任务划分为两个可管理的部分：一部分是有关抽象的定义和实现，另一部分是随时用这些抽象解决问题
    - 操作系统的一个主要任务是隐藏硬件，呈现给程序及程序员良好、清晰、优雅、一致的抽象
- 作为资源管理者的操作系统
    - 主要任务是记录哪个程序在使用什么资源，对资源请求进行分配，评估使用代价，并且为不同的程序和用户调节互相冲突的资源请求
    - 用两种方式实现多路复用资源：时间上复用（CPU、打印机）、空间上复用（磁盘、内存）

### 操作系统的历史
- 第一台真正的数字计算机是英国数学家Charles Babbage设计的分析机，但没有生产出来，他雇佣了Ada Lovelace来写程序
- 第一代数字计算机（1945-1955），真空管和穿孔卡片，没有操作系统
- 第二代（1955-1965），晶体管和批处理系统，有了现代操作系统的前身
- 第三代（1965-1980），集成电路芯片和多道程序设计
    - IBM的OS/360引进了多道程序设计（multiprogramming）的概念，在内存中同时放置多个程序，放置IO阻塞
    - 产生了分时系统（timesharing）
    - 公用计算服务系统的概念，产生了MULTICS，计算服务的概念后来被遗弃，但现在却以服务器和云的形式回归
- 第四代（1980至今），个人计算机
    - DOS - Disk Operating System，足见磁盘I/O操作在OS中的重要性
    - Win95开始独立于MS-DOS，WinNT进行了重写，Win7的版本号7就是源自于WinNT的版本号
    - Mac是基于FreeBSD的修改版，Gnome、KDE是基于X windows

### 计算机硬件介绍
- 处理器（有多种寄存器，程序计数器是其中一种；CPU级别的多线程技术因为线程的轻量所以切换时间大大减少）
- 存储器（分层结构，因为现有技术无法同时满足三个目标：极为迅速、充分大、非常便宜）
    - 寄存器使用与CPU相同的材料制成，所以和CPU一样快
    - 缓存在计算机科学的许多领域有重要的作用，比如长路径名到磁盘地址的转换、URL到IP地址的转换等
    - 闪存的速度介于RAM和磁盘之间，如SD卡等
- I/O设备（包括控制器和设备本身）
    - 实际的设备接口隐藏在控制器中，操作系统看到的是对控制器的接口
    - 专门与控制器对话，发出命令并接受响应的软件，称为设备驱动程序
    - 三种输入输出的方式（不好理解，还是看CSAPP吧）
- 总线
    - 从单总线演化为多总线（高速缓存总线、局部总线、内存总线、USB总线、IDE总线、PCI总线，等）

### 操作系统大观园
### 操作系统概念
- 进程
- 
